{"version":3,"sources":["src/components/Game.ts","src/services/getGames.ts","src/utilities/findImageCutBySize.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.8cf6cd0e.js","sourceRoot":"..","sourcesContent":["import { IImageCut } from \"../model/IImageCut\";\n\nexport function Game(\n  gamePk: number,\n  headline: string,\n  blurb: string,\n  imageCut: IImageCut,\n  isActive: boolean\n): string {\n  const styles = {\n    width: imageCut.width,\n    height: imageCut.height,\n    background: `url(${imageCut.src})`,\n    backgroundSize: \"cover\",\n  };\n\n  const activeClassName = isActive ? \"active-focus\" : \"\";\n\n  return `<div id=\"gamePk-${gamePk}\" class=\"game ${activeClassName}\">\n            ${renderHeadline()}\n            ${renderButton()}\n            ${renderBlurb()}\n          </div>`;\n\n  function renderButton() {\n    return `<div class=\"game-thumbnail\"  style=\"background-image:url(${imageCut.src})\"></div>`;\n  }\n\n  function renderHeadline() {\n    return `<div class=\"game-headline\">${headline}</div>`;\n  }\n\n  function renderBlurb() {\n    return `<div class=\"game-blurb\">${blurb}</div>`;\n  }\n}\n","import { IScheduleResponse } from \"../model/IScheduleResponse\";\n\nexport async function getGames(date: string) {\n  try {\n    const response = await fetch(\n      `http://statsapi.mlb.com/api/v1/schedule?hydrate=game(content(editorial(recap))),decisions&date=${date}&sportId=1`\n    );\n\n    const jsonResponse: IScheduleResponse = await response.json();\n    return jsonResponse;\n  } catch (exception) {\n    console.log(\"ERROR - getGames()\", exception);\n  }\n}\n","import { IImageCut } from \"../model/IImageCut\";\n\nexport function findImageCutBySize(\n  images: Array<IImageCut>,\n  height: number,\n  width: number\n) {\n  return images.find((i) => {\n    return i.height === height && i.width === width;\n  });\n}\n","import \"./css/style.css\";\n\nimport { Game } from \"./components/Game\";\nimport { getGames as getScheduleResponse } from \"./services/getGames\";\nimport { IGame } from \"./model/IGame\";\nimport { findImageCutBySize } from \"./utilities/findImageCutBySize\";\n\nlet games: Array<IGame> = [];\nlet currentGamePk: number;\nlet date: string = \"2020-09-10\";\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  await loadPage();\n  renderActiveGame();\n\n  document.getElementById(\"next\")?.addEventListener(\"click\", async (evt) => {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() + 1);\n    date = newDate.toISOString().split(\"T\")[0];\n    await loadPage();\n    renderActiveGame();\n  });\n\n  document.getElementById(\"prev\")?.addEventListener(\"click\", async (evt) => {\n    const newDate = new Date(date);\n    newDate.setDate(newDate.getDate() - 1);\n    date = newDate.toISOString().split(\"T\")[0];\n    await loadPage();\n    renderActiveGame();\n  });\n});\n\nwindow.addEventListener(\"keydown\", (evt) => {\n  const currentIndex = games.findIndex((g) => {\n    return currentGamePk === g.gamePk;\n  });\n\n  let nextIndex = currentIndex;\n  switch (evt.key) {\n    case \"Left\":\n    case \"ArrowLeft\":\n      if (currentIndex > 0) {\n        nextIndex--;\n      }\n\n      break;\n    case \"Right\":\n    case \"ArrowRight\":\n      if (currentIndex < games.length - 1) {\n        nextIndex++;\n      }\n\n      break;\n\n    default:\n      return;\n  }\n\n  currentGamePk = games[nextIndex].gamePk;\n  renderActiveGame();\n  evt.preventDefault();\n});\n\nasync function loadPage() {\n  currentGamePk = 0;\n\n  const filmstripContainer = document.getElementsByClassName(\n    \"filmstrip-container\"\n  )[0];\n  filmstripContainer.classList.add(\"pre-animation\");\n  const response = await getScheduleResponse(date);\n\n  if (!response) {\n    filmstripContainer.innerHTML = \"Error with page\";\n    return;\n  }\n\n  const [firstDate] = response.dates;\n  games = firstDate?.games?.filter((g, i) => {\n    return g.gamePk && g.content.editorial;\n  });\n\n  const header = document.getElementById(\"h1-date\");\n  if (header) {\n    header.innerHTML = `Game Day - ${new Date(date).toLocaleDateString()}`;\n  }\n\n  if (!games) {\n    filmstripContainer.innerHTML = \"No games available\";\n    return;\n  }\n\n  const uiGames = games.map((g, i) => {\n    if (!currentGamePk) {\n      const isFirstGame = i === 0;\n      if (isFirstGame) {\n        currentGamePk = g.gamePk;\n      }\n    }\n\n    const imageCuts = g.content.editorial?.recap?.mlb?.image?.cuts ?? [];\n\n    const imageCut = findImageCutBySize(imageCuts, 270, 480);\n    const headline = g.content.editorial?.recap.mlb.seoTitle ?? \"\";\n    const blurb = g.content.editorial?.recap.mlb.blurb ?? \"\";\n\n    if (imageCut) {\n      const isActive = g.gamePk === currentGamePk;\n      const game = Game(g.gamePk, headline, blurb, imageCut, isActive);\n      return game;\n    }\n    return null;\n  });\n\n  filmstripContainer.innerHTML = `<div class=\"filmstrip\">${uiGames.join(\n    \"\"\n  )}</div>`;\n\n  filmstripContainer.classList.remove(\"pre-animation\");\n\n  document.querySelectorAll(\".game-thumbnail\").forEach((e) => {\n    e.addEventListener(\"click\", (evt: any) => {\n      const gameId = evt.target.parentElement.getAttribute(\"id\");\n      currentGamePk = parseInt(gameId.replace(\"gamePk-\", \"\"));\n      renderActiveGame();\n    });\n  });\n}\n\nfunction renderActiveGame() {\n  document.querySelectorAll(\".game\").forEach((g) => {\n    if (g.id === `gamePk-${currentGamePk}`) {\n      g.classList.add(\"active-focus\");\n      setTimeout(() => {\n        g.scrollIntoView({\n          behavior: \"smooth\",\n          inline: \"center\",\n          block: \"nearest\",\n        });\n      }, 500);\n    } else {\n      g.classList.remove(\"active-focus\");\n    }\n  });\n}\n"]}